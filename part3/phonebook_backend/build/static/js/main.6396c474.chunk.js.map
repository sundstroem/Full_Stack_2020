{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/contacts.js","components/App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","personsToShow","deleteContact","map","person","key","name","number","onClick","Notification","message","isError","className","baseUrl","axios","get","then","res","data","newPerson","post","updatedObject","id","put","console","log","delete","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setSearch","notification","setNotification","errorStatus","setErrorStatus","useEffect","contactService","r","eraseNotificationAfterDelay","setTimeout","filter","l","toLowerCase","includes","event","target","isEmpty","preventDefault","some","window","confirm","find","response","p","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6396c474.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ search, handleSearchChange }) => {\n    return(\n        <input\n            value = {search} \n            onChange = {handleSearchChange}\n        />\n    )\n    \n\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n    return (\n    <form onSubmit={addPerson}>\n        <div> name: \n            <input \n                value = {newName}\n                onChange = {handleNameChange}\n            />\n        </div>\n        <div> number:\n            <input\n                value = {newNumber}\n                onChange = {handleNumberChange}\n            />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\n\nconst Persons = ( {personsToShow, deleteContact} ) => {\n    return (\n        <>\n        {personsToShow.map(person => \n            <li key={person.name}>\n                {person.name}: {person.number}\n                <button onClick={() => deleteContact(person)}> delete </button>\n            </li> \n        )}\n        </>\n    )\n\n}\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message , isError}) => {\n  if (message === null) {\n    return null\n  }\n  \n  return (\n    <div className={isError ? \"error\" : \"notification\"}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const req = axios.get(baseUrl)\n  return req.then(res => res.data)\n}\n\nconst create = newPerson => {\n  const req = axios.post(baseUrl, newPerson)\n  return req.then(res => res.data)\n}\n\nconst update = (updatedObject, id) => {\n  const req = axios.put(`${baseUrl}/${id}`, updatedObject)\n  return req.then(res => res.data)\n}\n\nconst deletePerson = (id) => { \n  console.log(\"deleting: \", id, \", at: \", baseUrl , \"/\", id)\n  const req = axios.delete(`${baseUrl}/${id}`)\n  return req.then(res => res.data)\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  deletePerson\n}\n","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notification from './Notification'\nimport contactService from '../services/contacts'\nimport './index.css'\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ search, setSearch] = useState('')\n  const [ notification, setNotification] = useState(null)\n  const [ errorStatus, setErrorStatus] = useState(false)\n\n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(r => setPersons(r))\n  }, [])\n\n  const addPerson = (event) => {\n      event.preventDefault()\n      if(persons.some(l => l.name === newName)) {\n        if(window.confirm(`${newName} is already in the phonebook, do you want to replace the current number?`)) {\n          const id = persons.find(l => l.name === newName).id\n          const updatedObject = { name: newName, number: newNumber}\n          console.log(\"updated object:\", updatedObject, \"id: \", id)\n          contactService\n            .update(updatedObject, id)\n            .then(response => {\n              setErrorStatus(false)\n              setPersons(persons.filter(p => p.name !== newName).concat(updatedObject))\n              setNotification(`Updated the number of ${newName}`)\n              eraseNotificationAfterDelay()\n            })\n            .catch( error => {\n              setErrorStatus(true)\n              setNotification(`Error with updating the number of ${newName}`)\n            })\n        }\n      }\n      else {\n        const nameObject = { name: newName, number: newNumber}\n        contactService\n          .create(nameObject)\n          .then(res => {\n            setErrorStatus(false)\n            setPersons(persons.concat(res))\n            setNotification(`Added the number of ${newName} to the Phonebook`)\n            eraseNotificationAfterDelay()\n          })\n          .catch( error => {\n            setErrorStatus(true)\n            console.log(error.response.data)\n            setNotification(`${error.response.data.error}`)\n          })\n      }\n      setNewName('')\n      setNewNumber('')\n  }\n  \n  const eraseNotificationAfterDelay = () => {\n    setTimeout(() => {\n      setNotification(null)\n      setErrorStatus(false)\n    }, 5000)\n  }\n\n  const deleteContact = (person) => {\n    if(window.confirm(`Do you want to delete ${person.name} from the phonebook?`)) {\n      setErrorStatus(false)\n      setPersons(persons.filter(p => p.id !== person.id))\n      setNotification(`Deleted ${person.name} from the Phonebook`)\n      eraseNotificationAfterDelay()\n      contactService\n        .deletePerson(person.id)\n        .catch( error => {\n          setErrorStatus(true)\n          setNotification(`Error with deleting ${person.name} from the Phonebook`)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value.toLowerCase())\n    if (search.isEmpty) setShowAll(true)\n    else setShowAll(false)\n  } \n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(l => l.name.toLowerCase().includes(search))\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} isError={errorStatus} />\n      filter shown with\n      <Filter search = {search} handleSearchChange = {handleSearchChange} /> \n      <h2>Add a new</h2>\n      <PersonForm addPerson = {addPerson} newName = {newName} handleNameChange = {handleNameChange} \n                  newNumber = {newNumber} handleNumberChange = {handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons personsToShow = {personsToShow} deleteContact = {deleteContact}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}